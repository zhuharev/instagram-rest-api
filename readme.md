## installation

`docker pull zhuharev/insta:latest`

## usage

create `docker-compose.yml` file with content:

```yml
version: '3'
services:
  web:
      image: zhuharev/insta:latest
      ports:
          - "8080:80"

```

Then run `docker-compose up` and open http://127.0.0.1:8080/instagram/timeline/index.html

## endpoints

Currently support upload single and multiple photos

Make post (multipart/form-data encoded) request to`/instagram/timeline/update`

Params:

- `login`
- `password`
- `caption`
- `files` - array of files

## response format


```json
{"upload_id":"1505427541108","media":{"pk":"1603964950573638624","id":"1603964950573638624_5926516356","media_type":1,"code":"BZCbZ_XHmPg","visibility":null,"taken_at":1505427543,"device_timestamp":1505427541108,"client_cache_key":"MTYwMzk2NDk1MDU3MzYzODYyNA==.2","filter_type":0,"attribution":null,"image_versions2":{"candidates":[{"url":"https:\/\/scontent-frt3-1.cdninstagram.com\/t51.2885-15\/e35\/18380155_170925466809903_2788282585195741184_n.jpg?ig_cache_key=MTYwMzk2NDk1MDU3MzYzODYyNA%3D%3D.2&se=7","width":1054,"height":670},{"url":"https:\/\/scontent-frt3-1.cdninstagram.com\/t51.2885-15\/s240x240\/e35\/18380155_170925466809903_2788282585195741184_n.jpg?ig_cache_key=MTYwMzk2NDk1MDU3MzYzODYyNA%3D%3D.2","width":240,"height":152}],"trace_token":null},"original_width":1054,"original_height":670,"view_count":null,"viewer_count":null,"organic_tracking_token":"eyJ2ZXJzaW9uIjo1LCJwYXlsb2FkIjp7ImlzX2FuYWx5dGljc190cmFja2VkIjpmYWxzZSwidXVpZCI6IjQwNTY4YzFkYjBlYTRjNjQ4Nzc2ZmYxMmU5NzgyY2JkMTYwMzk2NDk1MDU3MzYzODYyNCIsInNlcnZlcl90b2tlbiI6IjE1MDU0Mjc1NDUyMjh8MTYwMzk2NDk1MDU3MzYzODYyNHw1OTI2NTE2MzU2fDJjODU5NDAxZjAzNDFiMmM3YTk4NzU0ZGUyZTc4ZWEwOThhMmU4NjM3ZWE3MTAxYzJkYjkwZGY0NGU0ZDAzNGYifSwic2lnbmF0dXJlIjoiIn0=","comment_count":0,"has_more_comments":false,"max_num_visible_preview_comments":4,"preview_comments":[],"comments":null,"comments_disabled":null,"reel_mentions":null,"story_cta":null,"caption_position":null,"expiring_at":null,"is_reel_media":null,"next_max_id":null,"carousel_media":null,"carousel_media_type":null,"caption":{"status":"Active","user_id":"5926516356","created_at_utc":1505427544,"created_at":1505427544,"bit_flags":0,"user":{"username":"bossterize","has_anonymous_profile_picture":true,"is_favorite":null,"profile_pic_url":"https:\/\/scontent-lax3-1.cdninstagram.com\/t51.2885-19\/11906329_960233084022564_1448528159_a.jpg","full_name":"bosster","user_id":null,"pk":"5926516356","id":null,"is_verified":null,"is_private":false,"coeff_weight":null,"friendship_status":null,"hd_profile_pic_versions":null,"byline":null,"search_social_context":null,"unseen_count":null,"mutual_followers_count":null,"follower_count":null,"social_context":null,"media_count":null,"following_count":null,"is_business":null,"usertags_count":null,"profile_context":null,"biography":null,"geo_media_count":null,"is_unpublished":false,"allow_contacts_sync":null,"show_feed_biz_conversion_icon":null,"profile_pic_id":null,"auto_expand_chaining":null,"can_boost_post":false,"is_profile_action_needed":null,"has_chaining":null,"include_direct_blacklist_status":null,"can_see_organic_insights":false,"can_convert_to_business":null,"convert_from_pages":null,"show_business_conversion_icon":null,"show_conversion_edit_entry":null,"show_insights_terms":false,"can_create_sponsor_tags":null,"hd_profile_pic_url_info":null,"usertag_review_enabled":null,"profile_context_mutual_follow_ids":null,"profile_context_links_with_user_ids":null,"has_biography_translation":null,"business_contact_method":null,"category":null,"direct_messaging":null,"page_name":null,"fb_page_call_to_action_id":null,"is_call_to_action_enabled":null,"public_phone_country_code":null,"public_phone_number":null,"contact_phone_number":null,"latitude":null,"longitude":null,"address_street":null,"zip":null,"city_id":null,"city_name":null,"public_email":null,"is_needy":null,"external_url":null,"external_lynx_url":null,"email":null,"country_code":null,"birthday":null,"national_number":null,"gender":null,"phone_number":null,"needs_email_confirm":null,"is_active":null,"block_at":null,"aggregate_promote_engagement":null,"fbuid":null,"page_id":null,"latest_reel_media":null,"has_unseen_besties_media":null,"allowed_commenter_type":"any"},"content_type":"comment","text":"biblioteka","media_id":"1603964950573638624","pk":"17899024660054796","type":1,"has_translation":null,"did_report_as_spam":false},"caption_is_edited":false,"photo_of_you":false,"video_versions":null,"has_audio":null,"video_duration":null,"user":{"username":"bossterize","has_anonymous_profile_picture":true,"is_favorite":null,"profile_pic_url":"https:\/\/scontent-lax3-1.cdninstagram.com\/t51.2885-19\/11906329_960233084022564_1448528159_a.jpg","full_name":"bosster","user_id":null,"pk":"5926516356","id":null,"is_verified":null,"is_private":false,"coeff_weight":null,"friendship_status":null,"hd_profile_pic_versions":null,"byline":null,"search_social_context":null,"unseen_count":null,"mutual_followers_count":null,"follower_count":null,"social_context":null,"media_count":null,"following_count":null,"is_business":null,"usertags_count":null,"profile_context":null,"biography":null,"geo_media_count":null,"is_unpublished":false,"allow_contacts_sync":null,"show_feed_biz_conversion_icon":null,"profile_pic_id":null,"auto_expand_chaining":null,"can_boost_post":false,"is_profile_action_needed":null,"has_chaining":null,"include_direct_blacklist_status":null,"can_see_organic_insights":false,"can_convert_to_business":null,"convert_from_pages":null,"show_business_conversion_icon":null,"show_conversion_edit_entry":null,"show_insights_terms":false,"can_create_sponsor_tags":null,"hd_profile_pic_url_info":null,"usertag_review_enabled":null,"profile_context_mutual_follow_ids":null,"profile_context_links_with_user_ids":null,"has_biography_translation":null,"business_contact_method":null,"category":null,"direct_messaging":null,"page_name":null,"fb_page_call_to_action_id":null,"is_call_to_action_enabled":null,"public_phone_country_code":null,"public_phone_number":null,"contact_phone_number":null,"latitude":null,"longitude":null,"address_street":null,"zip":null,"city_id":null,"city_name":null,"public_email":null,"is_needy":null,"external_url":null,"external_lynx_url":null,"email":null,"country_code":null,"birthday":null,"national_number":null,"gender":null,"phone_number":null,"needs_email_confirm":null,"is_active":null,"block_at":null,"aggregate_promote_engagement":null,"fbuid":null,"page_id":null,"latest_reel_media":null,"has_unseen_besties_media":null,"allowed_commenter_type":"any"},"likers":null,"like_count":null,"preview":null,"has_liked":null,"explore_context":null,"explore_source_token":null,"explore":null,"impression_token":null,"usertags":null,"media":null,"stories":null,"top_likers":null,"suggested_users":null,"is_new_suggestion":null,"comment_likes_enabled":false,"can_viewer_save":true,"has_viewer_saved":null,"location":null,"lat":null,"lng":null,"story_locations":null,"algorithm":null,"channel":null,"gating":null,"story_hashtags":null,"ad_action":null,"is_dash_eligible":null,"video_dash_manifest":null,"number_of_qualities":null,"injected":null,"placeholder":null,"social_context":null,"icon":null,"media_ids":null,"media_id":null,"thumbnail_urls":null,"large_urls":null,"media_infos":null,"value":null,"collapse_comments":null,"ad_metadata":null,"link":null,"link_text":null,"link_hint_text":null,"iTunesItem":null,"ad_link_type":null,"ad_header_style":null,"dr_ad_type":null,"android_links":null,"force_overlay":null,"hide_nux_text":null,"overlay_text":null,"overlay_title":null,"overlay_subtitle":null,"playback_duration_secs":null,"url_expire_at_secs":null,"is_sidecar_child":null,"comment_threading_enabled":false,"collection_id":null,"collection_name":null,"cover_media":null,"saved_collection_ids":null,"boosted_status":null,"boost_unavailable_reason":null,"viewers":null,"viewer_cursor":null,"total_viewer_count":null,"multi_author_reel_names":null,"reel_share":null,"story_polls":null,"organic_post_id":null,"sponsor_tags":null,"story_poll_voter_infos":null,"imported_taken_at":null,"lead_gen_form_id":null,"ad_id":null,"actor_fbid":null},"client_sidecar_id":null,"message_metadata":null,"status":"ok","message":null,"_messages":null,"fullResponse":{"media":{"taken_at":1505427543,"pk":1603964950573638624,"id":"1603964950573638624_5926516356","device_timestamp":1505427541108,"media_type":1,"code":"BZCbZ_XHmPg","client_cache_key":"MTYwMzk2NDk1MDU3MzYzODYyNA==.2","filter_type":0,"image_versions2":{"candidates":[{"width":1054,"height":670,"url":"https:\/\/scontent-frt3-1.cdninstagram.com\/t51.2885-15\/e35\/18380155_170925466809903_2788282585195741184_n.jpg?ig_cache_key=MTYwMzk2NDk1MDU3MzYzODYyNA%3D%3D.2&se=7"},{"width":240,"height":152,"url":"https:\/\/scontent-frt3-1.cdninstagram.com\/t51.2885-15\/s240x240\/e35\/18380155_170925466809903_2788282585195741184_n.jpg?ig_cache_key=MTYwMzk2NDk1MDU3MzYzODYyNA%3D%3D.2"}]},"original_width":1054,"original_height":670,"user":{"pk":5926516356,"username":"bossterize","full_name":"bosster","is_private":false,"profile_pic_url":"https:\/\/scontent-lax3-1.cdninstagram.com\/t51.2885-19\/11906329_960233084022564_1448528159_a.jpg","has_anonymous_profile_picture":true,"can_boost_post":false,"can_see_organic_insights":false,"show_insights_terms":false,"is_unpublished":false,"allowed_commenter_type":"any"},"caption":{"pk":17899024660054796,"user_id":5926516356,"text":"biblioteka","type":1,"created_at":1505427544,"created_at_utc":1505427544,"content_type":"comment","status":"Active","bit_flags":0,"user":{"pk":5926516356,"username":"bossterize","full_name":"bosster","is_private":false,"profile_pic_url":"https:\/\/scontent-lax3-1.cdninstagram.com\/t51.2885-19\/11906329_960233084022564_1448528159_a.jpg","has_anonymous_profile_picture":true,"can_boost_post":false,"can_see_organic_insights":false,"show_insights_terms":false,"is_unpublished":false,"allowed_commenter_type":"any"},"did_report_as_spam":false,"media_id":1603964950573638624},"caption_is_edited":false,"comment_likes_enabled":false,"comment_threading_enabled":false,"has_more_comments":false,"max_num_visible_preview_comments":4,"preview_comments":[],"comment_count":0,"photo_of_you":false,"can_viewer_save":true,"organic_tracking_token":"eyJ2ZXJzaW9uIjo1LCJwYXlsb2FkIjp7ImlzX2FuYWx5dGljc190cmFja2VkIjpmYWxzZSwidXVpZCI6IjQwNTY4YzFkYjBlYTRjNjQ4Nzc2ZmYxMmU5NzgyY2JkMTYwMzk2NDk1MDU3MzYzODYyNCIsInNlcnZlcl90b2tlbiI6IjE1MDU0Mjc1NDUyMjh8MTYwMzk2NDk1MDU3MzYzODYyNHw1OTI2NTE2MzU2fDJjODU5NDAxZjAzNDFiMmM3YTk4NzU0ZGUyZTc4ZWEwOThhMmU4NjM3ZWE3MTAxYzJkYjkwZGY0NGU0ZDAzNGYifSwic2lnbmF0dXJlIjoiIn0="},"upload_id":"1505427541108","status":"ok"},"httpResponse":{}}
```
